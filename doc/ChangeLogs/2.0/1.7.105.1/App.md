# 1.7.105.1

> [!warning]
> # 警告！请不要使用此版本
>
> 当前版本为 2.0 的测试版，尽管部分功能已经可用，但还是不建议在生产环境使用此版本。请使用[稳定版 1.7.0.1](https://github.com/ClassIsland/ClassIsland/releases/tag/1.7.0.1)。欢迎在 Issue 中汇报您使用时遇到的问题。

<img src="https://res.classisland.tech/stickers/2.png" height="75" width="75" alt="白厄_再见" title="白厄_再见"/>

2.0 - Khaslana（卡厄斯兰那）

本版本修复了 1.7.105.0 的部分 Bug。

## 🚀 新增功能与优化

- 【主界面】主界面行和组件支持单独设置背景颜色、背景圆角、背景不透明度、不透明度、字体大小和颜色，组件新增边距设置支持 ([#769](https://github.com/ClassIsland/ClassIsland/issues/769))
- 【主界面】通过降低进度条更新频率优化主界面性能占用 ([#1242](https://github.com/ClassIsland/ClassIsland/issues/1242))
- 【主界面】为主界面行添加灵动动画
- 【组件】将内置的容器组件名称由 XX 组件修改为 XX 容器
- 【组件】添加堆叠容器
- 【组件/倒计时】倒计时支持自定义格式
- 【组件/倒计时】倒计时添加周期/每日/每周计时支持
- 【组件/倒计时】倒计时组件显示进度条
- 【天气】支持按内容排除天气预警
- 【天气】按发布时间去重天气预警
- 【音频】更新 SoundFlow 版本，优化 SoundFlow 调用方式和语音服务队列方式
- 【行动】行动【运行】Url 支持 UNC 路径
- 【应用设置】更多的快捷方式创建菜单
- 【应用设置/基本】重新排序基本页面的设置选项
- 【应用设置/基本】优化重启当前实例和教学安全模式设置描述
- 【应用设置/组件】主界面行拖动排序
- 【应用设置/组件】实现组件操作菜单
- 【应用设置/插件】隐藏 api 版本 2.0 以下的插件
- 【设置存储】使用 JsonProperty 进行 HiedRules 的向下兼容
- 【平台】支持 nix 平台
- 【平台/MacOS】MacOS Taskbar 图标采用单色版本
- 【平台/MacOS】适配 Liquid Glass 应用图标

## 🐛 Bug 修复

- 【主界面】修复主界面位置因多屏幕 dpi 不同乱跑的问题 ([#1200](https://github.com/ClassIsland/ClassIsland/issues/1200))
- 【主界面】修复主界面行不跟随子组件隐藏的问题
- 【主界面】修复主界面行数量增加后主界面高度没有变化，导致内容被裁剪的问题
- 【主界面】修复主界面行隐藏后间距异常的问题
- 【主界面】修复组件变化时主界面行隐藏状态不更新的问题
- 【主界面】修复应用主界面行数变化时窗口内容异常的问题
- 【主界面】修复主界面组件和主界面行边缘裁剪问题
- 【主界面】修复主界面图片渲染质量低的问题
- 【主界面】修复分体主界面组件裁剪问题
- 【主界面】修复主界面不能隐藏的问题
- 【主界面】关闭组件呈现器Shimmer边界裁剪
- 【UI】修复在部分情况下 ContentDialog 无法获取到 Toplevel 的问题 ([#1240](https://github.com/ClassIsland/ClassIsland/issues/1240))
- 【UI】修复自动化界面中无法拖拽排序行动的问题
- 【UI】修复崩溃窗口的父窗口不正确的问题
- 【UI】修复触屏下拖动排序组件被上下文拖动打断的问题
- 【UI】修复触屏状态下 ItemDragBehavior 拖拽行为异常的问题 ([#1225](https://github.com/ClassIsland/ClassIsland/issues/1225))
- 【提醒】修复提醒水波纹特效出现位置不正确的问题 ([#1243](https://github.com/ClassIsland/ClassIsland/issues/1243))
- 【提醒/语音】修复 EdgeTTS 无法获取音频的问题 https://github.com/ClassIsland/ClassIsland/issues/1284 https://github.com/ClassIsland/ClassIsland/issues/1192
- 【音频】修复应用启动时重复初始化 AudioService 的问题 ([#1204](https://github.com/ClassIsland/ClassIsland/issues/1204))
- 【音频】修复 miniaudio 依赖问题 ([#1236](https://github.com/ClassIsland/ClassIsland/issues/1236)) ([#1280](https://github.com/ClassIsland/ClassIsland/issues/1280))
- 【组件】修复组件呈现器的 Shimmer 特定情况下没有关闭动画的问题 ([#1242](https://github.com/ClassIsland/ClassIsland/issues/1242))
- 【组件/课表】修复课表信息没有对其的问题 ([#1291](https://github.com/ClassIsland/ClassIsland/issues/1291))
- 【组件/课表】修复当课表组件总是显示第二天课程，且第二天没有课程时显示当天课程的问题
- 【组件/课表】修复当课表更新时，课表组件上的时间点选择没有更新的问题
- 【组件/天气】修复天气组件在显示非默认的天气信息时卸载导致崩溃的问题 ([#1231](https://github.com/ClassIsland/ClassIsland/issues/1231)) ([#1197](https://github.com/ClassIsland/ClassIsland/issues/1197)) ([#1232](https://github.com/ClassIsland/ClassIsland/issues/1232))
- 【组件/倒计时】修复倒计时精度计算错误
- 【组件/轮播容器】修复轮播容器没有轮到的项目不隐藏的问题 ([#1297](https://github.com/ClassIsland/ClassIsland/issues/1297))
- 【应用设置/组件】([#1254](https://github.com/ClassIsland/ClassIsland/issues/1254)) 在组件设置中点击配置文件的刷新按钮后产生了名称为空的配置文件，且会导致配置数据丢失
- 【应用设置/组件】修复组件触控手势识别器捕获正常触摸操作的问题 ([#1286](https://github.com/ClassIsland/ClassIsland/issues/1286))
- 【应用设置/自动化】修复自动化页面中的爱莉希雅图标模糊的问题
- 【档案编辑】修复课表编辑界面空值的 ComboBox 出现异常选择的情况 ([#1235](https://github.com/ClassIsland/ClassIsland/issues/1235))
- 【行动】([#1288](https://github.com/ClassIsland/ClassIsland/issues/1288)) 自动化中的【窗口向下偏移】行动 无法正常设置数值
- 【行动/提醒】修复自动化中的提醒因从 UI 线程外的线程调用导致提醒无法显示的问题
- 【自动化】修复自动化在应用安全模式下不能切换配置方案的问题
- 【自动化】自动化触发器补充安全模式截断
- 【系统】ClassIsland.Services.MemoryWatchDogService 在非 Windows 环境下返回的数据为0
- 【系统】修复顶层效果窗口在显示时没有应用窗口属性的问题 ([#1248](https://github.com/ClassIsland/ClassIsland/issues/1248))
- 【平台/Windows】修复在显示崩溃通知时发生异常导致无限循环的问题
- 【平台/Windows】修复在 Windows 下打开文件选择框后，显示 Popup 导致应用冻结的问题 ([#1244](https://github.com/ClassIsland/ClassIsland/issues/1244))
- 【平台/Linux】修复在 Linux 平台上点击托盘图标导致图标消失的问题
- 【平台/Linux/X11】修复系统关闭时因部分窗口取消关闭导致系统无法关机的问题 ([#1167](https://github.com/ClassIsland/ClassIsland/issues/1167))
- 【其它】@genius-alray 专门细节优化 ([#1269](https://github.com/ClassIsland/ClassIsland/issues/1269)) ([#1268](https://github.com/ClassIsland/ClassIsland/issues/1268)) ([#1267](https://github.com/ClassIsland/ClassIsland/issues/1267)) ([#1266](https://github.com/ClassIsland/ClassIsland/issues/1266)) ([#1262](https://github.com/ClassIsland/ClassIsland/issues/1262)) ([#1261](https://github.com/ClassIsland/ClassIsland/issues/1261)) ([#1259](https://github.com/ClassIsland/ClassIsland/issues/1259)) ([#1250](https://github.com/ClassIsland/ClassIsland/issues/1250)) ([#1247](https://github.com/ClassIsland/ClassIsland/issues/1247))

<!-- generated by git-cliff -->
