# 1.7.105.0

> [!warning]
> # 警告！请不要使用此版本
>
> 当前版本为 2.0 的测试版，尽管部分功能已经可用，但还是不建议在生产环境使用此版本。请使用[稳定版 1.7.0.1](https://github.com/ClassIsland/ClassIsland/releases/tag/1.7.0.1)。欢迎在 Issue 中汇报您使用时遇到的问题。

<img src="https://res.classisland.tech/stickers/2.png" height="75" width="75" alt="白厄_再见" title="白厄_再见"/>

2.0 - Khaslana（卡厄斯兰那）

当前版本大约 **99%** 的功能已完成移植，移植工作基本完成。

## 🚀 新增功能与优化

- 【应用设置】移植调试菜单、集控选项和自动化页面
- 【应用设置】移植对齐铃声功能
- 【应用设置/关于】支持复制诊断信息 (([#1189](https://github.com/ClassIsland/ClassIsland/issues/1189)))
- 【应用设置/关于】实现关于页面许可协议查看
- 【应用设置/基本】移植公告控件
- 【主界面】恢复 Windows 平台下的置顶恢复
- 【主界面】解耦主界面外观实现
- 【主界面】主界面灵动动效
- 【主题】实现主题加载顺序调整
- 【主题】实现类 Fluent 样式的主界面
- 【档案编辑器】在自定义课间名称输入框提供已有名称的自动建议
- 【档案编辑器】课表的触发条件，时间表，课表群的 tag 显示
- 【档案编辑器】实现时间表编辑器操作按钮
- 【集控】移植集控认证功能
- 【集控】实现客户端 MAC 验证与 Cyrene_MSP
- 【应用】实现全局存储区，将全局变量存储到全局存储区中
- 【Uri 导航】恢复开发时被禁用的 Uri 导航注册
- 【UI】隐藏 MacOS 标题栏 (([#1185](https://github.com/ClassIsland/ClassIsland/issues/1185)))
- 【提醒】优化 Ripple 提醒特效动画曲线
- 【提醒】上课提醒实现动画
- 【平台/Windows】引入 Windows 通知 api
- 【平台/Freedesktop】实现 Freedesktop 平台的通知功能
- 【平台/MacOS】实现主窗口在macOS上跨桌面显示
- 【规则集】为规则集添加异常处理
- 【API/主界面】实现部分 MainWindowStylesAssist

## 🐛 Bug 修复

- 【UI】修复 Shimmer 隐藏后未及时结束动画导致高 cpu 占用的问题
- 【Avalonia】修复在部分 Windows 平台上 CPU 占用过高的问题
- 【提醒】修复显示提醒特效时会抢占用户焦点、鼠标不穿透和任务栏图标不隐藏的问题
- 【数据迁移】修复 ImportEntries 传参不正确的问题
- 【档案编辑器】修复在特定情况下时间规则编辑控件的 WeekDayOptions 绑定失败的问题 ([#1178](https://github.com/ClassIsland/ClassIsland/issues/1178))
- 【应用设置/主题】修复主题页面图标错误
- 【应用设置/调试】修复调试页面 GC 差异计算错误的问题
- 【应用设置】修复频繁切换设置界面导致内存泄漏的问题
- 【打包】修复由于排除 HotAvalonia 导致发布包体不包含 System.Reflection.Metadata 的问题
- 【主界面】修复应用启动时窗口乱跑的问题
- 【主界面】修复主界面在 Linux 下爆闪的问题 ([#1219](https://github.com/ClassIsland/ClassIsland/issues/1219))
- 【档案编辑器】修复使用触屏编辑科目时，设置的课程条目与预期不符的问题 ([#1220](https://github.com/ClassIsland/ClassIsland/issues/1220))
- 【应用设置/插件】修复插件页面的点击项目主页按钮无法导航的问题 ([#1203](https://github.com/ClassIsland/ClassIsland/issues/1203))
- 【启动器】修复应用启动时 ClassIsland.Desktop 不具有可执行权限的问题 ([#1212](https://github.com/ClassIsland/ClassIsland/issues/1212))
- 【日志】日志记录器改用不可变栈修复偶发报错
- 【提醒】修复上课提醒字体大小不跟随主界面设置的问题
- 【提醒】修复天气预警和滚动提醒在主界面长度更改后滚动被打断的问题
- 【规则集】规则集添加 RuleId 为 null 检查
- 【主题】修复 Fluent 主题在显示特定提醒时突然变宽的问题
- 【主题】修复 Fluent 主题下提醒遮罩背景透明的问题
- 【UI】修复文件选取的路径获取不正确的问题 ([#1210](https://github.com/ClassIsland/ClassIsland/issues/1210))
- 【UI】修复静态获取 ActionService 导致类型无法初始化的问题
- 【UI】修复无法打开规则集抽屉的问题
- 【UI】修复在触屏下无法通过点击开启行动选择菜单的问题
- 【UI】修复 Slider auto tooltip 浮点数格式化不正确的问题 ([#1217](https://github.com/ClassIsland/ClassIsland/issues/1217))
- 【UI】修复 RulesetControl.axaml.cs 横向滚动问题
- 【UI】修复多周轮换偏移应用按钮不显示图标
- 【UI】修复 TabControl 的 TabItem 在底下时 SelectedPipe 显示异常的问题
- 【UI】将部分通过 SplitView 实现的抽屉替换为 DrawerHost，修复抽屉行为与先前应用版本不一致的问题 ([#1227](https://github.com/ClassIsland/ClassIsland/issues/1227)) ([#1195](https://github.com/ClassIsland/ClassIsland/issues/1195))



<!-- generated by git-cliff -->
